# How to Run the Agent

## MCP Server (AllTrails trails search)

Add MCP config to `~/.cursor/mcp.json` (see `src/documentation/README.md`). Cursor starts the server automatically when you use the agent.

**Manual run:**
```bash
python3 -m beta_graph.servers.alltrails.server
```

**HTTP mode (port 8000):**
```bash
python3 -m beta_graph.servers.alltrails.server --http
```

## Prerequisites

1. **Load trails into Chroma** (once, or after scraping):
   ```bash
   python3 scripts/load_trails_to_chroma.py
   ```

2. **Scrape new trails** (optional; add cookies to `keys/alltrails_cookies` if needed):
   ```bash
   python3 scripts/scrape_yosemite_climbing.py
   python3 scripts/test_scrape_requests.py
   python3 scripts/load_trails_to_chroma.py
   ```

## Agent Tools

- `search_trails` – Semantic search (e.g. "easy waterfall hike", "rock climbing")
- `list_stored_trails` – List all trails in Chroma
- `get_trail_count` – Count of stored trails
